(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e09d35a"],{"00bb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-btn",{staticClass:"primary",on:{click:function(e){return t.backToReview()}}},[t._v(" back ")]),a("v-container",[a("v-row",[a("h2",[t._v("Before Rebuttal")])]),a("v-row",[a("postlist",{attrs:{_articleId:t.articleId,_postStatus:t.postStatus.beforeRebuttal},on:{posterclicked:t.getTargetId}})],1)],1),t.afterRebuttal?a("v-container",[a("v-row",[a("h2",[t._v("After Rebuttal")])]),a("v-row",[a("postlist",{attrs:{_articleId:t.articleId,_postStatus:t.postStatus.afterRebuttal},on:{posterclicked:t.getTargetId}})],1)],1):t._e(),a("v-container",{staticStyle:{"background-color":"rgb(232, 232, 232)"}},[a("p",{staticClass:"display-0 font-weight-medium mt-2 pt-2 mb-1 pb-1"},[t._v("content ")]),a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"12",md:"12",sm:"12"}},[a("v-textarea",{attrs:{type:"text","validate-on-blur":!0},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{type:"text",readonly:t.postIdReadOnly,label:"reply to",hint:"click the content you want to reply to","validate-on-blur":!0,"prepend-icon":"account_circle"},model:{value:t.targetName,callback:function(e){t.targetName=e},expression:"targetName"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{staticClass:"green lighten-1",attrs:{block:""},on:{click:function(e){return t.submitPost(t.rebuttalStatus)}}},[t._v("Post ")])],1)],1)],1)],1)},i=[],o=a("1fbb"),r={components:{postlist:o["default"]},data:function(){return{tips_text:"",articleId:"",targetName:"",postIdReadOnly:!0,posterName:"",reviewStatus:"",meetingName:"",meetingStatus:"",postStatus:{beforeRebuttal:"beforeRebuttal",afterRebuttal:"afterRebuttal"},rebuttalStatus:"beforeRebuttal",afterRebuttal:!1,targetId:"",content:"",rules:{required:function(t){return!!t||"This field is required."},targetId:function(t){var e=/^[0-9]*$/;return!!e.test(t)}}}},methods:{backToReview:function(){this.$router.push({path:"/meeting/reviewArticle",query:{pcMemberName:this.posterName,articleId:this.articleId,meetingName:this.meetingName,meetingStatus:this.meetingStatus,reviewStatus:this.reviewStatus}})},getTargetId:function(t){this.targetId=t.postId,this.targetName=t.posterName},loadParams:function(){this.articleId=this.$route.query.articleId,this.posterName=this.$route.query.posterName,this.rebuttalStatus=this.$route.query.rebuttalStatus,this.meetingStatus=this.$route.query.meetingStatus,this.reviewStatus=this.$route.query.reviewStatus,"afterRebuttal"==this.rebuttalStatus&&(this.afterRebuttal=!0),console.log(this.articleId),console.log(this.poster)},targetIdValidate:function(t){if(""==t||null==t)return!0;var e=/^[0-9]*$/;return!!e.test(t)},contentValidate:function(t){return!!t},submitPost:function(t){var e=this;if(""!=this.targetId&&null!=this.targetId||(this.targetId=0),!this.targetIdValidate(this.targetId))return this.tips_text="The commentId must be a number",void this.$toast(this.tips_text,{color:"red"});if(!this.contentValidate(this.content))return this.tips_text="The post content is required",void this.$toast(this.tips_text,{color:"red"});var a="api/meeting/reviewPost",s=new FormData;s.append("articleId",this.articleId),s.append("targetId",this.targetId),s.append("content",this.content),s.append("status",this.postStatus),s.append("posterName",this.posterName);var i=this.articleId,o=this.targetId,r=this.content,n=this.posterName;this.$axios.post(a,{articleId:i,targetId:o,content:r,posterName:n,status:t}).then((function(t){200==t.data.responseCode&&"success"==t.data.responseMessage?(e.tips_text="post successfully",e.$toast(e.tips_text,{color:"green"}),window.setTimeout(function(){this.$router.go(0)}.bind(e),1e3)):(e.tips_text="error occurred due to "+t.data.responseBody.reason,e.$toast(e.tips_text,{color:"red"}))})).catch((function(t){e.tips_text="error occurred when communicating with the backend",e.$toast(e.tips_text,{color:"red"})}))}},created:function(){this.loadParams()}},n=r,c=a("2877"),u=a("6544"),l=a.n(u),d=a("8336"),p=a("62ad"),h=a("a523"),m=a("0fd9"),f=a("8654"),v=a("a844"),g=Object(c["a"])(n,s,i,!1,null,null,null);e["default"]=g.exports;l()(g,{VBtn:d["a"],VCol:p["a"],VContainer:h["a"],VRow:m["a"],VTextField:f["a"],VTextarea:v["a"]})},1681:function(t,e,a){},"1fbb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",[a("v-list",{attrs:{"three-line":""}},[a("v-list-item-group",[t._l(t.items,(function(e,s){return[a("v-list-item",{key:e.postId,on:{click:function(a){return t.posterclick(e)}},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.active;return[a("v-list-item-action",[a("v-list-item-action-text",{domProps:{textContent:t._s(e.timeStamp)}}),i?a("v-icon",{attrs:{color:"yellow"}},[t._v("star")]):a("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("star_border")])],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.posterName)}}),a("v-list-item-subtitle",{staticClass:"text--primary"},[a("span",[t._v(t._s(e.targetContent))])]),a("v-list-item-subtitle",[t._v(t._s(e.postContent))])],1)]}}],null,!0)}),s+1<t.items.length?a("v-divider",{key:s}):t._e()]}))],2)],1)],1)],1)},i=[],o={props:["_articleId","_postStatus"],data:function(){return{items:[],articleId:this._articleId,postStatus:this._postStatus}},methods:{loadPostList:function(){var t=this,e="api/meeting/postList";this.$axios.get(e,{params:{articleId:this.articleId,postStatus:this.postStatus}}).then((function(e){200==e.data.responseCode&&"success"==e.data.responseMessage?t.items=e.data.responseBody.postlist:t.$toast("backend error occurred, please refresh",{color:"red"})})).catch((function(e){t.$toast("an unexpected error occurred, please refresh",{color:"red"})}))},posterclick:function(t){this.$emit("posterclicked",t),console.log(t),console.log("posterclicked emitted")}},created:function(){this.loadPostList()}},r=o,n=a("2877"),c=a("6544"),u=a.n(c),l=a("b0af"),d=a("a523"),p=a("ce7e"),h=a("132d"),m=a("8860"),f=a("da13"),v=a("1800"),g=a("5d23"),b=a("1baa"),I=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=I.exports;u()(I,{VCard:l["a"],VContainer:d["a"],VDivider:p["a"],VIcon:h["a"],VList:m["a"],VListItem:f["a"],VListItemAction:v["a"],VListItemActionText:g["a"],VListItemContent:g["b"],VListItemGroup:b["a"],VListItemSubtitle:g["c"],VListItemTitle:g["d"]})},a844:function(t,e,a){"use strict";a("a9e3");var s=a("5530"),i=(a("1681"),a("8654")),o=a("58df"),r=Object(o["a"])(i["a"]);e["a"]=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(s["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},i["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=i["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){i["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-5e09d35a.ff40c01a.js.map